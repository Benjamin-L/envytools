<?xml version="1.0" encoding="UTF-8"?>
<database xmlns="http://nouveau.freedesktop.org/"
	  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	  xsi:schemaLocation="http://nouveau.freedesktop.org/ rules-ng.xsd">
<import file="copyright.xml"/>
<import file="nvchipsets.xml"/>
<import file="nv_defs.xml"/>

<enum name="GF119_EVO_SPECIAL_HANDLING">
	<value value="0x0" name="NONE"/>
	<value value="0x1" name="INTERRUPT_RM"/>
	<value value="0x2" name="MODE_SWITCH"/>
</enum>

<enum name="G80_EVO_NOTIFIER_MODE">
	<value value="0x0" name="WRITE"/>
	<value value="0x1" name="WRITE_AWAKEN"/>
</enum>

<enum name="GF119_EVO_FORMAT">
	<value value="0x0" name="LEGACY"/>
	<value value="0x1" name="FOUR_WORD"/>
</enum>

<enum name="G80_EVO_LUT_MODE" varset="chipset">
	<value value="0x0" name="LORES"/>
	<value value="0x1" name="HIRES"/>
	<value value="0x3" name="INDEX_1025_UNITY_RANGE" variants="GF119-"/>
	<value value="0x4" name="INTERPOLATE_1025_UNITY_RANGE" variants="GF119-"/>
	<value value="0x5" name="INTERPOLATE_1025_XRBIAS_RANGE" variants="GF119-"/>
	<value value="0x6" name="INTERPOLATE_1025_XVYCC_RANGE" variants="GF119-"/>
	<value value="0x7" name="INTERPOLATE_257_UNITY_RANGE" variants="GF119-"/>
	<value value="0x8" name="INTERPOLATE_257_LEGACY_RANGE" variants="GF119-"/>
</enum>

<group name="G84_LO_HI">
	<reg32 offset="0x0" name="LO"/>
	<reg32 offset="0x4" name="HI"/>
</group>

<bitset name="G80_EVO_PROCESSING">
	<bitfield pos="0" name="USE_GAIN_OFS"/>
</bitset>

<bitset name="G84_GAIN_OFS_16">
	<bitfield high="15" low="0" name="GAIN"/>
	<bitfield high="31" low="16" name="OFS"/>
</bitset>

<bitset name="GF119_EVO_CSC">
	<bitfield high="18" low="0" name="COEFF"/>
</bitset>

<enum name="G80_HEAD_STRUCTURE">
	<value value="0x0" name="PROGRESSIVE"/>
	<value value="0x1" name="INTERLACED"/>
</enum>

<enum name="G80_SUPER_SAMPLE" varset="chipset">
	<value value="0x0" name="X1_AA"/>
	<value value="0x2" name="X4_AA"/>
	<value value="0x3" name="X8_AA" variants="GT215:GF119"/>
</enum>

<group name="G80_EVO_FB_SETTINGS">
	<reg32 offset="0x0" length="2" name="OFFSET_ORIGIN" variants="G80:GF119"/>
	<reg32 offset="0x0" name="OFFSET_ORIGIN" variants="GF119-"/>

	<reg32 offset="0x8" name="SIZE" type="wh15" variants="G80:GF119"/>
	<reg32 offset="0x8" name="SIZE" type="wh16" variants="GF119-"/>

	<reg32 offset="0xc" name="STORAGE">
		<bitfield pos="24" name="MEMORY_LAYOUT" type="G80_HEAD_STORAGE_LAYOUT" variants="GF119-"/>
		<bitfield pos="20" name="MEMORY_LAYOUT" type="G80_HEAD_STORAGE_LAYOUT" variants="G80:GF119"/>
		<bitfield high="20" low="8" shr="4" name="PITCH" variants="GF119-"/>
		<bitfield high="19" low="8" shr="4" name="PITCH" variants="GT215:GF119"/>
		<bitfield high="17" low="8" shr="4" name="PITCH" variants="G80:GT215"/>
		<bitfield high="3" low="0" name="BLOCK_HEIGHT">
			<value value="0x0" name="1_GOB"/>
			<value value="0x1" name="2_GOBS"/>
			<value value="0x2" name="4_GOBS"/>
			<value value="0x3" name="8_GOBS"/>
			<value value="0x4" name="16_GOBS"/>
			<value value="0x5" name="32_GOBS"/>
		</bitfield>
	</reg32>

	<reg32 offset="0x10" name="PARAMS">
		<bitfield pos="24" name="PART_STRIDE" variants="G80">
			<value value="0x0" name="256"/>
			<value value="0x1" name="1024"/>
		</bitfield>
		<!-- Only values 0x0, 0x70 to 0x7f from G80_STORAGE_TYPE are
		     valid here. -->
		<bitfield high="22" low="16" name="KIND" type="G80_STORAGE_TYPE" variants="G80"/>
		<bitfield high="15" low="8" name="FORMAT">
			<value value="0x1e" name="I8"/>
			<value value="0x1f" name="VOID16"/>
			<value value="0x22" name="X2BL10GL10RL10_XRBIAS" variants="GF119-"/>
			<value value="0x23" name="R16_G16_B16_A16_NVBIAS" variants="GF119-"/>
			<value value="0x24" name="X2BL10GL10RL10_XVYCC" variants="GK110-"/>
			<value value="0x2e" name="VOID32"/>
			<value value="0xc6" name="R16_G16_B16_A16" variants="GF119-"/>
			<value value="0xca" name="RF16_GF16_BF16_AF16"/>
			<value value="0xcf" name="A8R8G8B8"/>
			<value value="0xd1" name="A2B10G10R10"/>
			<value value="0xd5" name="A8B8G8R8"/>
			<value value="0xdf" name="A2R10G10B10" variants="GK104-"/>
			<value value="0xe8" name="R5G6B5"/>
			<value value="0xe9" name="A1R5G5B5"/>
		</bitfield>
		<!-- LAYOUT is only found in EVO base channel -->
		<bitfield high="5" low="4" name="LAYOUT">
			<value value="0x0" name="FRM"/>
			<value value="0x1" name="FLD1"/>
			<value value="0x2" name="FLD2"/>
		</bitfield>
		<bitfield pos="2" name="GAMMA" variants="G84-">
			<value value="0x0" name="LINEAR"/>
			<value value="0x1" name="SRGB"/>
		</bitfield>
		<bitfield high="1" low="0" name="SUPER_SAMPLE" type="G80_SUPER_SAMPLE" variants="G84-"/>
	</reg32>
</group>

<group name="BASE_OVERLAY_COMMON">
	<stripe offset="0x138" name="UPDATE_TIMESTAMP" variants="GF119-">
		<use-group name="G84_LO_HI"/>
	</stripe>

	<stripe offset="0x140" name="CSC" variants="GF119-">
		<reg32 offset="0x0" name="RED_TO_RED" type="GF119_EVO_CSC">
			<bitfield pos="31" name="OWNER">
				<value value="0x0" name="CORE"/>
				<value value="0x1" name="BASE"/>
			</bitfield>
		</reg32>
		<reg32 offset="0x4" name="GREEN_TO_RED" type="GF119_EVO_CSC"/>
		<reg32 offset="0x8" name="BLUE_TO_RED" type="GF119_EVO_CSC"/>
		<reg32 offset="0xc" name="CONSTANT_TO_RED" type="GF119_EVO_CSC"/>
		<reg32 offset="0x10" name="RED_TO_GREEN" type="GF119_EVO_CSC"/>
		<reg32 offset="0x14" name="GREEN_TO_GREEN" type="GF119_EVO_CSC"/>
		<reg32 offset="0x18" name="BLUE_TO_GREEN" type="GF119_EVO_CSC"/>
		<reg32 offset="0x1c" name="CONSTANT_TO_GREEN" type="GF119_EVO_CSC"/>
		<reg32 offset="0x20" name="RED_TO_BLUE" type="GF119_EVO_CSC"/>
		<reg32 offset="0x24" name="GREEN_TO_BLUE" type="GF119_EVO_CSC"/>
		<reg32 offset="0x28" name="BLUE_TO_BLUE" type="GF119_EVO_CSC"/>
		<reg32 offset="0x2c" name="CONSTANT_TO_BLUE" type="GF119_EVO_CSC"/>
	</stripe>

	<reg32 offset="0x3bc" name="SPARE_UNUSED" variants="GF119-"/>
	<reg32 offset="0x3c0" name="SPARE_NOOP_UNUSED" variants="GF119-"/>

	<!-- new framebuffer settings to apply. Same as in main evo channel -->
	<stripe offset="0x400" variants="GF119-">
		<use-group name="G80_EVO_FB_SETTINGS" />
	</stripe>

	<reg32 offset="0x7bc" name="SPARE_UNUSED" variants="G80:GF119"/>
	<reg32 offset="0x7c0" name="SPARE_NOOP_UNUSED" variants="G80:GF119"/>
</group>

<!-- main EVO channel -->
<domain name="NV_EVO_MASTER" bare="yes" prefix="chipset">

	<!-- write 0 here executes all evo commands pending in PDISPLAY fifo -->
	<reg32 offset="0x80" name="FLUSH"/>

	<reg32 offset="0x84" name="FLUSH_CRTL">

		<!-- set by blob on clut changes -->
		<bitfield pos="2" name="CRTC0"/>
		<bitfield pos="3" name="CRTC1"/>

		<!-- if set, device will write non-zero value to first dword
		     of 'notify' buffer once it completes processing of
		     commands -->
		<bitfield pos="31" name="NOTIFY"/>
	</reg32>

	<!--
		darktama: not sure exactly what this is..

		the first dword of the structure is used by nvidia to wait on
		full completion of an EVO "update" command

		method 0x8c on the master evo channel will fill a lot more of
		this structure with some undefined info
	-->
	<reg32 offset="0x88" name="DMA_NOTIFY"/>

	<array name="DAC" offset="0x400" stride="0x80" length="2">

		<reg32 offset="0x0" name="MODE_CTL">
			<bitfield pos="0" name="CRTC0"/>
			<bitfield pos="1" name="CRTC1"/>

			<bitfield pos="6" name="UNK6"/>

			<bitfield low="8" high="13"  name="PROTOCOL">
				<value name="VGA"     value="0x0"/>
				<value name="NTSC_M"  value="0x1"/>
				<value name="NTSC_J"  value="0x2"/>
				<value name="PAL"     value="0x3"/>
				<value name="PAL_M"   value="0x4"/>
				<value name="PAL_N"   value="0x5"/>
				<value name="PAL_NC"  value="0x6"/>

				<!-- HD480I/HD576I doesn't work with blob,
				     maybe hw doesn't support it? -->
				<value name="HD480P"  value="0xd"/>
				<value name="HD576P"  value="0xe"/>

				<value name="HD720P"  value="0x10"/>
				<value name="HD1080I" value="0x12"/>
				<value name="HD1080P" value="0x3F"/>
			</bitfield>

			<bitfield pos="14" name="SUB_CARR_FREQ">
				<value name="3_57MHZ"  value="0"/>

				<!-- PAL and PAL-NC use this -->
				<value name="4_42MHZ" value="1"/>
			</bitfield>
		</reg32>

		<reg32 offset="0x04" name="MODE_CTL2">
			<bitfield pos="0" name="NEG_HSYNC" type="boolean"/>
			<bitfield pos="1" name="NEG_VSYNC" type="boolean"/>
		</reg32>

		<!-- TODO: always set to 0x10000 on TV-out -->
		<reg32 offset="0x20" name="UNK20"/>
	</array>

	<array name="SOR" offset="0x600" stride="0x40" length="2">

		<reg32 offset="0x0" name="MODE_CTL">
			<bitfield pos="0" name="CRTC0"/>
			<bitfield pos="1" name="CRTC1"/>

			<bitfield pos="6" name="UNK6"/>

			<bitfield low="8" high="11"  name="PROTOCOL">
				<value name="LVDS" value="0"/>
				<value name="TMDS_SINGLE_A" value="1"/>
				<value name="TMDS_SINGLE_B" value="2"/>
				<value name="TMDS_DUAL" value="5"/>
				<value name="DP_A" value="8"/>
				<value name="DP_B" value="9"/>
			</bitfield>

			<bitfield pos="12" name="NEG_HSYNC" type="boolean"/>
			<bitfield pos="13" name="NEG_VSYNC" type="boolean"/>
		</reg32>
	</array>

	<array name="CRTC" offset="0x800" stride="0x400" length="2">

		<reg32 offset="0x004" name="CLOCK">
			<bitfield low="0" high="22" name="FREQ_KHZ" type="uint"/>
			<bitfield pos="23" name="ENABLED"/>
		</reg32>

		<reg32 offset="0x008" name="INTERLACE">
			<bitfield pos="1" name="ENABLED"/>
		</reg32>

		<reg32 offset="0x010" name="BORDER_COLOR">
			<bitfield low="0" high="9" name="RED" type="uint"/>
			<bitfield low="10" high="19" name="GREEN" type="uint"/>
			<bitfield low="20" high="29" name="BLUE" type="uint"/>
		</reg32>

		<!-- start of sync pulse is the reference, so: -->

		<!-- totat scanlines of display -->
		<reg32 offset="0x014" name="DISPLAY_TOTAL" type="wh16"/>

		<!-- from start of sync to end of sync -->
		<reg32 offset="0x018" name="SYNC_DURATION" type="wh16"/>

		<!-- from start of sync to start of visible portion (end of back porch) -->
		<reg32 offset="0x01c" name="SYNC_START_TO_DISP_START" type="wh16"/>

		<!-- from start of sync to end of visible portion (start of front porch) -->
		<reg32 offset="0x020" name="SYNC_START_TO_DISP_END" type="wh16"/>


		<reg32 offset="0x024" name="INTERLACE_TIMINGS">
			<!-- from start of sync to end of visible portion of next field (start of front porch) -->
			<bitfield low="0" high="15" name="VSYNC_TO_END_DISP_NEXTFIELD" type="uint" />
			<!-- from start of sync to start of visible portion of the next field (end of back porch) -->
			<bitfield low="16" high="31" name="VSYNC_TO_START_DISP_NEXTFIELD" type="uint" />
		</reg32>

		<reg32 offset="0x028" name="VBLANK">
			<bitfield low="0" high="11" name="US" type="uint" />
		</reg32>

		<reg32 offset="0x02C" name="UNK82C"/> <!-- set always to 0 -->

		<reg32 offset="0x040" name="CLUT">
			<bitfield pos="31" name="ENABLED">
				<value value="1" name="YES"/>
				<value value="0" name="NO"/>
			</bitfield>

			<!-- in reduced mode, first and last 64 entries of LUT
			     are ignored, and middle 128 entries are interpolated
			     into 256 entries. Used by blob for 8-bit framebuffers -->
			<bitfield pos="30" name="MODE">
				<value value="0" name="REDUCED"/>
				<value value="1" name="NORMAL"/>
			</bitfield>
		</reg32>

		<reg32 offset="0x044" name="CLUT_ADDRESS"/>
		<reg32 offset="0x05c" name="CLUT_DMA_HANDLE" variants="G84-"/>

		<group name="g80_evo_fb_settings">
			<reg32 offset="0x00" name="FB_OFFSET"/>

			<reg32 offset="0x08" name="FB_SIZE"/>

			<reg32 offset="0x0c" name="FB_CONFIG">
				<bitfield pos="20" name="MODE">
					<value value="0" name="TILE"/>
					<value value="1" name="PITCH"/>
				</bitfield>

				<bitfield high="19" low="4" shr="4" name="PITCH"/>
				<bitfield high="3" low="0" name="TILE_FLAGS"/>
			</reg32>
			<reg32 offset="0x010" name="FB_DEPTH" >
				<bitfield high="15" low="8" name="DEPTH">
					<value value="0x1e" name="8BPP"/>
					<value value="0xe9" name="15BPP"/>
					<value value="0xe8" name="16BPP"/>
					<value value="0xcf" name="24BPP"/>
					<value value="0xd1" name="30BPP"/>
				</bitfield>
			</reg32>
		</group>

		<stripe offset="0x060">
			<use-group name="g80_evo_fb_settings" />
		</stripe>

		<reg32 offset="0x074" name="FB_DMA_HANDLE"/>


		<reg32 offset="0x080" name="CURSOR_CTL">
			<bitfield pos="31" name="SHOW" type="boolean"/>
		</reg32>
		<reg32 offset="0x084" name="CURSOR_ADDRESS"/>
		<reg32 offset="0x09c" name="CURSOR_DMA_HANDLE" variants="G84-"/>

		<reg32 offset="0x0a0" name="DITHER_CTRL">
			<bitfield low="0" high="2" name="DEPTH">
				<value value="0" name="DISABLED"/>
				<value value="1" name="6BPP"/>
				<value value="3" name="8BPP"/>
			</bitfield>

			<bitfield low="3" high="5" name="MODE">
				<value value="0" name="OFF"/>
				<value value="2" name="DYNAMIC_2X2"/>
				<value value="3" name="STATIC_2X2"/>
			</bitfield>
		</reg32>

		<reg32 offset="0x0a4" name="BLUR_CTRL">
			<!-- ENABLE + UNK1 = black screen + hung card with
			     no way to fix by setting back the old value -->
			<bitfield low="0" high="1" name="UNK1"/>
			<bitfield pos="2" name="ENABLE"/>
			<bitfield pos="3" name="UNK3"/>

			<!-- set to same value as BLUR1, but seems to do nothing -->
			<bitfield low="16" high="23" name="BLUR2" type="int"/>

			<!-- Blur value, (negative == sharpness) -->
			<bitfield low="24" high="31" name="BLUR1" type="int"/>
		</reg32>

		<reg32 offset="0x0a8" name="COLOR_CTL">
			<!-- TV_COLORS used on most TV modes,
			     applies proper black/white levels -->
			<bitfield pos="0" name="TV_COLORS"/>
			<!-- ALT_TV_COLORS used in PAL-N and 720P/1080P/1080I modes,
			     slightly different colors that with TV_COLORS -->
			<bitfield pos="1" name="ALT_TV_COLORS"/>

			<!-- draws on left and right of the screen two
			     thin/thick violet lines -->
			<bitfield pos="3" name="LEFTRIGHT_THIN_BORDER"/>
			<bitfield pos="4" name="LEFTRIGHT_THICK_BORDER"/>

			<bitfield  low="8" high="19" name="SATURATION" type="int"/>
			<bitfield  low="20" high="31" name="TINT" type="int"/>
		</reg32>

		<!-- offset of CRTC window in framebuffer texture -->
		<reg32 offset="0x0c0" name="FB_POS" type="xy16"/>

		<!-- size of CRTC window in framebuffer texture -->
		<reg32 offset="0x0c8" name="FB_REAL_RES" type="wh16"/>

		<!-- offset to move CRTC window before output to physical screen -->
		<reg32 offset="0x0d4" name="FB_SCREEN_POS" type="xy16"/>

		<!-- size to scale CRTC window (which size is given in FB_REAL_RES)
		     before output to physical screen -->
		<reg32 offset="0x0d8" name="FB_SCALE_RES1" type="wh16" />
		<!-- this value doesn't do anything, but must be same/lower that first
			its sort of bottom limit/optimization. 0 seems to work -->
		<reg32 offset="0x0dc" name="FB_SCALE_RES2" type="wh16" />

		<!-- darktama: required to make display sync channels not hate life.
		     UNK900 set to 0, UNK904 to 0x100 by blob -->
		<reg32 offset="0x100" name="UNK900"/>
		<reg32 offset="0x104" name="UNK904"/>

		<!-- blob seeems to set that to 0x10000 -->
		<reg32 offset="0x3a8" name="UNK3A8"/>

	</array>
</domain>

<!-- display sync EVO channels, one per CRTC -->
<domain name="NV_EVO_SYNC" bare="yes" prefix="chipset">

	<!-- same as on main EVO channel -->
	<reg32 offset="0x80" name="FLUSH"/>

	<!-- sets conditions as when to execute the flip -->
	<reg32 offset="0x84" name="SWAP_CRTL">
		<!-- number of vblanks to wait before swap-->
		<bitfield low="4" high="7" name="INTERVAL"/>

		<!-- force instant swap -->
		<bitfield pos="8" name="IMMEDIATE"/>
	</reg32>

	<!-- Semaphore support to sync against PGRAPH -->
	<reg32 offset="0x88" name="SEM_OFFSET"/>
	<reg32 offset="0x8c" name="SEM_ACQUIRE"/>
	<reg32 offset="0x90" name="SEM_RELEASE"/>
	<reg32 offset="0x94" name="SEM_DMAOBJ"/>

	<!-- set to 0  on pageflip -->
	<reg32 offset="0xa0" name="UNKA0"/>
	<reg32 offset="0xa5" name="UNKA4"/>


	<reg32 offset="0xc0" name="FB_DMAOBJ"/>

	<!-- darktama: allows gamma somehow, PDISP will bitch at you if
		* you don't wait for vblank before changing this..
		nouveau writes 0x40000000 here-->
	<reg32 offset="0xe0" name="UNKE0"/>

	<!-- UNK100 is not present in the EVO headers NVIDIA released -->
	<!-- set to 0xfffe0000 on page flip -->
	<reg32 offset="0x100" name="UNK100"/>

	<!-- set to 0  on pageflip -->
	<reg32 offset="0x110" name="UNK110"/>
	<reg32 offset="0x114" name="UNK114"/>

	<!-- new framebuffer settings to apply. Same as in main evo channel -->
	<stripe offset="0x800">
		<use-group name="g80_evo_fb_settings" />
	</stripe>
</domain>

<!-- Overlay EVO channel -->
<domain name="NV_EVO_OVERLAY" bare="yes" prefix="chipset">
	<reg32 offset="0x80" name="UPDATE">
		<bitfield high="25" low="24" name="SPECIAL_HANDLING" type="GF119_EVO_SPECIAL_HANDLING" variants="GF119-"/>
		<bitfield high="23" low="16" name="SPECIAL_HANDLING_REASON" variants="GF119-"/>
		<bitfield pos="0" name="INTERLOCK_WITH_CORE"/>
	</reg32>

	<!-- sets conditions as when to execute the flip -->
	<reg32 offset="0x84" name="PRESENT_CRTL">
		<!-- number of vblanks to wait before swap-->
		<bitfield high="7" low="4" name="MIN_PRESENT_INTERVAL"/>
		<bitfield high="1" low="0" name="BEGIN_MODE">
			<value value="0x0" name="ASAP"/>
			<value value="0x3" name="TIMESTAMP"/>
		</bitfield>
	</reg32>

	<reg32 offset="0x88" name="SEM_ACQUIRE_VALUE"/>
	<reg32 offset="0x90" name="SEM_RELEASE_VALUE"/>
	<!-- Semaphore support to sync against PGRAPH -->
	<reg32 offset="0x90" name="SEM_CTRL">
		<bitfield pos="28" name="FORMAT" type="GF119_EVO_FORMAT" variants="GF119-"/>
		<bitfield high="11" low="2" name="OFFSET"/>
	</reg32>
	<reg32 offset="0x94" name="DMA_SEM_HANDLE" type="object"/>

	<!-- set to 0 on pageflip -->
	<reg32 offset="0xa0" name="NOTIFIER_CTRL">
		<bitfield pos="30" name="MODE" type="G80_EVO_NOTIFIER_MODE"/>
		<bitfield pos="28" name="FORMAT" type="GF119_EVO_FORMAT" variants="GF119-"/>
		<bitfield high="11" low="2" name="OFFSET"/>
	</reg32>

	<reg32 offset="0xa4" name="DMA_NOTIFIER_HANDLE" type="object"/>

	<reg32 offset="0xb0" name="DMA_LUT_HANDLE" type="object" variants="G94-"/>

	<stripe offset="0xb4" name="OVERLAY_LUT">
		<reg32 offset="0x0" name="LO">
			<bitfield pos="30" name="ENABLED"/>
			<bitfield pos="29" name="MODE" type="G80_EVO_LUT_MODE"/>
			<bitfield high="7" low="2" name="ORIGIN"/>
		</reg32>
		<reg32 offset="0x4" name="HI_ORIGIN"/>
	</stripe>

	<reg32 offset="0xc0" name="DMA_ISO_HANDLE" type="object"/>

	<reg32 offset="0xe0" name="POINT_IN" type="xy15"/>
	<reg32 offset="0xe4" name="SIZE_IN" type="wh15"/>
	<reg32 offset="0xe8" name="SIZE_OUT" type="wh15"/>

	<reg32 offset="0x100" name="COMPOSITION_CTRL">
		<bitfield high="3" low="0" name="MODE">
			<value value="0x0" name="SRC_COLOR_VALUE_KEYING"/>
			<value value="0x1" name="DEST_COLOR_VALUE_KEYING"/>
			<value value="0x2" name="OPAQUE_SUSPEND_BASE"/> <!-- called OPAQUE on GF119+ -->
		</bitfield>
	</reg32>
	<stripe offset="0x104" name="KEY">
		<reg32 offset="0x0" name="COLOR" variants="G80:GF119"/>
		<stripe offset="0x0" name="COLOR" variants="GF119-">
			<use-group name="G84_LO_HI"/>
		</stripe>
		<reg32 offset="0x4" name="MASK" variants="G80:GF119"/>
		<stripe offset="0x8" name="MASK" variants="GF119-">
			<use-group name="G84_LO_HI"/>
		</stripe>
	</stripe>

	<!-- set to 0 on pageflip -->
	<reg32 offset="0x118" name="PROCESSING" type="G80_EVO_PROCESSING" variants="GF119-"/>
	<stripe offset="0x11c" name="CONVERSION" variants="GF119-">
		<reg32 offset="0x0" name="RED" type="G84_GAIN_OFS_16"/>
		<reg32 offset="0x4" name="GREEN" type="G84_GAIN_OFS_16"/>
		<reg32 offset="0x8" name="BLUE" type="G84_GAIN_OFS_16"/>
	</stripe>

	<reg32 offset="0x120" name="TIMESTAMP_VALUE" variants="G80"/>
	<reg32 offset="0x124" name="UPDATE_TIMESTAMP" variants="G80"/>

	<use-group name="BASE_OVERLAY_COMMON"/>

	<!-- new framebuffer settings to apply. Same as in main evo channel -->
	<stripe offset="0x800" variants="G80:GF119">
		<use-group name="G80_EVO_FB_SETTINGS" />
	</stripe>
</domain>

</database>
